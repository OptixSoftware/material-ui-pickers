{"version":3,"file":"useKeyDown-2d987085.js","sources":["../../src/_shared/hooks/useKeyDown.ts"],"sourcesContent":["import * as React from 'react';\r\n\r\nexport const useIsomorphicEffect =\r\n  typeof window === 'undefined' ? React.useEffect : React.useLayoutEffect;\r\n\r\ntype KeyHandlers = Record<KeyboardEvent['key'], () => void>;\r\n\r\nexport function runKeyHandler(e: KeyboardEvent | React.KeyboardEvent, keyHandlers: KeyHandlers) {\r\n  const handler = keyHandlers[e.keyCode];\r\n  if (handler) {\r\n    handler();\r\n    // if event was handled prevent other side effects (e.g. page scroll)\r\n    e.preventDefault();\r\n  }\r\n}\r\n\r\nexport function useKeyDownHandler(active: boolean, keyHandlers: KeyHandlers) {\r\n  const keyHandlersRef = React.useRef(keyHandlers);\r\n  keyHandlersRef.current = keyHandlers;\r\n\r\n  return React.useCallback(\r\n    (e: React.KeyboardEvent) => {\r\n      if (active) {\r\n        runKeyHandler(e, keyHandlersRef.current);\r\n      }\r\n    },\r\n    [active]\r\n  );\r\n}\r\n\r\nexport function useGlobalKeyDown(active: boolean, keyHandlers: KeyHandlers) {\r\n  const keyHandlersRef = React.useRef(keyHandlers);\r\n  keyHandlersRef.current = keyHandlers;\r\n\r\n  useIsomorphicEffect(() => {\r\n    if (active) {\r\n      const handleKeyDown = (event: KeyboardEvent) => {\r\n        runKeyHandler(event, keyHandlersRef.current);\r\n      };\r\n      window.addEventListener('keydown', handleKeyDown);\r\n      return () => {\r\n        window.removeEventListener('keydown', handleKeyDown);\r\n      };\r\n    }\r\n  }, [active]);\r\n}\r\n"],"names":["useIsomorphicEffect","window","React","runKeyHandler","e","keyHandlers","handler","keyCode","preventDefault","useKeyDownHandler","active","keyHandlersRef","current","useGlobalKeyDown","handleKeyDown","event","addEventListener","removeEventListener"],"mappings":";;IAEaA,mBAAmB,GAC9B,OAAOC,MAAP,KAAkB,WAAlB,GAAgCC,SAAhC,GAAkDA;AAIpD,AAAO,SAASC,aAAT,CAAuBC,CAAvB,EAA+DC,WAA/D,EAAyF;MACxFC,OAAO,GAAGD,WAAW,CAACD,CAAC,CAACG,OAAH,CAA3B;;MACID,OAAJ,EAAa;IACXA,OAAO,GADI;;IAGXF,CAAC,CAACI,cAAF;;;AAIJ,AAAO,SAASC,iBAAT,CAA2BC,MAA3B,EAA4CL,WAA5C,EAAsE;MACrEM,cAAc,GAAGT,MAAA,CAAaG,WAAb,CAAvB;EACAM,cAAc,CAACC,OAAf,GAAyBP,WAAzB;SAEOH,WAAA,CACL,UAACE,CAAD,EAA4B;QACtBM,MAAJ,EAAY;MACVP,aAAa,CAACC,CAAD,EAAIO,cAAc,CAACC,OAAnB,CAAb;;GAHC,EAML,CAACF,MAAD,CANK,CAAP;;AAUF,AAAO,SAASG,gBAAT,CAA0BH,MAA1B,EAA2CL,WAA3C,EAAqE;MACpEM,cAAc,GAAGT,MAAA,CAAaG,WAAb,CAAvB;EACAM,cAAc,CAACC,OAAf,GAAyBP,WAAzB;EAEAL,mBAAmB,CAAC,YAAM;QACpBU,MAAJ,EAAY;UACJI,aAAa,GAAG,SAAhBA,aAAgB,CAACC,KAAD,EAA0B;QAC9CZ,aAAa,CAACY,KAAD,EAAQJ,cAAc,CAACC,OAAvB,CAAb;OADF;;MAGAX,MAAM,CAACe,gBAAP,CAAwB,SAAxB,EAAmCF,aAAnC;aACO,YAAM;QACXb,MAAM,CAACgB,mBAAP,CAA2B,SAA3B,EAAsCH,aAAtC;OADF;;GANe,EAUhB,CAACJ,MAAD,CAVgB,CAAnB;;;;;"}